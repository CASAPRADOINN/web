
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CASA PRADO INN - Alquileres Largos en Medell√≠n</title>
    <!-- Carga de Tailwind CSS desde CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
            color: #2d3748;
        }
        .smooth-scroll {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="smooth-scroll">
    <div id="app" class="min-h-screen flex flex-col items-center p-4 sm:p-8">

        <!-- Barra de Navegaci√≥n -->
        <nav class="sticky top-0 z-50 w-full max-w-5xl bg-amber-50 bg-opacity-90 backdrop-blur-sm rounded-xl shadow-lg p-4 mb-8">
            <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
                <!-- Logo/Inicio -->
                <a href="#top" class="hover:opacity-80 transition-opacity">
                    <img src="https://i.ibb.co/wFRq2pmC/logo.jpg" alt="Logo de The Co-Working & Rooftop House" class="h-12 rounded-full shadow-md">
                </a>
                <!-- Men√∫ de Navegaci√≥n -->
                <div class="flex flex-wrap justify-center space-x-4 sm:space-x-6 text-blue-900">
                    <a href="#caracteristicas" class="hover:text-blue-600 transition-colors font-medium">Caracter√≠sticas</a>
                   <a href="galeria.html" class="hover:text-blue-600 transition-colors font-medium">Galer√≠a de fotos</a>
                    <a href="#acomodacion-precio" class="hover:text-blue-600 transition-colors font-medium">Acomodaci√≥n y Precio</a>
                    <a href="#pagos" class="hover:text-blue-600 transition-colors font-medium">M√©todos de Pago</a>
                    <a href="#ubicacion" class="hover:text-blue-600 transition-colors font-medium">Ubicaci√≥n</a>
                </div>
            </div>
        </nav>

        <!-- Hero Section and Main Info -->
        <header id="top" class="w-full max-w-5xl bg-white rounded-xl shadow-lg p-6 sm:p-8 mb-8">
            <!-- Contenedor de la imagen de portada -->
            <div class="w-full h-64 sm:h-96 rounded-xl overflow-hidden shadow-md mb-4">
                <img src="https://i.ibb.co/Zz31sN9r/fachada-2.jpg" alt="Fotograf√≠a de la fachada de la casa estilo pueblo paisa en Medell√≠n" class="w-full h-full object-cover">
            </div>
            <!-- T√≠tulo debajo de la imagen -->
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-950 text-center mb-6">CASA PRADO INN</h1>
            <!-- Descripci√≥n debajo del t√≠tulo, sin los asteriscos -->
            <p class="text-lg text-center text-gray-600 max-w-3xl mx-auto italic text-gray-700">
                En el coraz√≥n del √∫nico Distrito Cultural y Patrimonial de Medell√≠n, te invitamos a vivir una experiencia inigualable. Esta casa respira la magia de un pueblo paisa y la fusiona con la comodidad moderna. Desde la inspiradora terraza hasta los acogedores espacios, cada rinc√≥n es una invitaci√≥n a conectar con la historia y el encanto de la ciudad. Bienvenido a tu hogar, donde los sue√±os y la cultura se encuentran.
            </p>
        </header>

        <!-- Main Content Section -->
        <main class="w-full max-w-5xl grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Features and Details Column -->
            <div class="md:col-span-2 bg-white rounded-xl shadow-lg p-6 sm:p-8">
                <!-- Seccion de Caracteristicas -->
                <h2 id="caracteristicas" class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-4 border-b pb-2">
                    Caracter√≠sticas Principales
                </h2>
                <ul class="space-y-4 text-gray-600 mb-6">
                    <li>
                        <span class="font-medium text-gray-800">üîπ Dise√±o colonial encantador:</span> Un ambiente √∫nico que fusiona historia y comodidad.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üîπ Sostenibilidad:</span> Sistema de recolecci√≥n de aguas lluvias para sanitarios.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üîπ Ubicaci√≥n estrat√©gica y excelente distribuci√≥n:</span> Tres pisos y terraza en el coraz√≥n del Prado Centro.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üõè 20 habitaciones</span> amobladas. Para m√°s detalles, consulta la secci√≥n de Acomodaci√≥n.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üöø 20 ba√±os</span>, incluyendo uno para personas con movilidad reducida.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üõé √Årea de recepci√≥n, üõã sala amplia, üçΩ cocina abierta</span> en acero inoxidable.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üçï Horno pizzero y zona BBQ</span> para momentos de ocio.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üåá Terraza abierta</span> con dise√±o colonial y vistas a la ciudad.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">üß∫ Zona de lavander√≠a</span> y üé• 16 c√°maras de seguridad ‚Äì circuito cerrado.
                    </li>
                    <li>
                        <span class="font-medium text-gray-800">‚õΩ Calentador a gas natural</span> para todas las duchas (60 galones).
                    </li>
                </ul>
                
                <!-- Secci√≥n de Acomodaci√≥n a√±adida -->
                <h2 id="acomodacion" class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-4 border-b pb-2 mt-8">
                    Acomodaci√≥n
                </h2>
                <p class="text-gray-600 mb-4">
                    La casa cuenta con 20 habitaciones amobladas, distribuidas para adaptarse a diferentes necesidades:
                </p>
                <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                    <li>Habitaciones para <span class="font-bold">1 persona</span>.</li>
                    <li>Habitaciones para <span class="font-bold">2 personas</span>.</li>
                    <li>Habitaciones para <span class="font-bold">3 personas</span>.</li>
                    <li>Habitaciones para <span class="font-bold">4 personas</span>.</li>
                </ul>
                
                <!-- Secci√≥n de M√©todos de Pago - Dise√±o actualizado -->
                <h2 id="pagos" class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-4 border-b pb-2 mt-8">
                    M√©todos de Pago
                </h2>
                <p class="text-gray-600 mb-4">
                    Para tu conveniencia, ofrecemos varias opciones de pago para confirmar tu reserva. Elige la que mejor se adapte a ti.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <!-- Tarjeta de Transferencia Bancaria -->
                    <div id="transferencia-bancaria" class="bg-gray-100 rounded-lg p-4 flex items-center space-x-4 shadow-md cursor-pointer hover:bg-gray-200 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-600">
                            <rect width="20" height="14" x="2" y="5" rx="2"/><path d="M2 10h20"/><path d="M7 15h0.01"/><path d="M11 15h2"/><path d="M16 15h2"/>
                        </svg>
                        <span class="font-medium text-gray-800">Transferencia Bancaria</span>
                    </div>
                    <!-- Tarjeta de Plataformas de Pago -->
                    <div id="plataformas-pago" class="bg-gray-100 rounded-lg p-4 flex items-center space-x-4 shadow-md cursor-pointer hover:bg-gray-200 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-green-600">
                            <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4a2 2 0 0 1 0 4h-4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h4a2 2 0 0 0 0-4h-3a2 2 0 0 0-2 2v2z"/>
                        </svg>
                        <span class="font-medium text-gray-800">Plataformas de Pago</span>
                    </div>
                    <!-- Tarjeta de Pago en Efectivo -->
                    <div id="pago-efectivo" class="bg-gray-100 rounded-lg p-4 flex items-center space-x-4 shadow-md cursor-pointer hover:bg-gray-200 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-yellow-600">
                            <path d="M12 2v20m5-15H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/><path d="M12 3v18"/>
                        </svg>
                        <span class="font-medium text-gray-800">Pago en Efectivo</span>
                    </div>
                </div>

                <!-- Seccion de Ubicacion y Conectividad -->
                <h2 id="ubicacion" class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-4 border-b pb-2 mt-8">
                    Ubicaci√≥n y Conectividad
                </h2>
                <p class="text-gray-600 mb-4">
                    Estamos situados en el coraz√≥n de Prado Centro, con cercan√≠as destacadas:
                </p>
                <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                    <li>Teatro El √Åguila Descalza</li>
                    <li>El Palacio Egipcio</li>
                    <li>Cl√≠nica CES y Cl√≠nica El Rosario</li>
                    <li>Centros Comerciales Camino Real y Villanueva</li>
                    <li>Catedral Metropolitana</li>
                </ul>
                <div class="relative w-full h-64 rounded-xl overflow-hidden shadow-md">
                    <!-- C√≥digo de iframe corregido para el mapa de Google -->
                    <iframe 
                        title="Ubicaci√≥n de The Co-Working & Rooftop House"
                        src="https://maps.google.com/maps?q=calle 61 45 d 15 barrio Prado Centro Medellin&output=embed&z=15"
                        class="w-full h-full border-0" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
                <p class="text-gray-600 mt-4 font-medium">
                    Conectividad total con <span class="font-bold">Metro, Tranv√≠a, Metropl√∫s</span> y toda la red de transporte p√∫blico.
                </p>
            </div>

            <!-- Booking Form Column -->
            <aside class="md:col-span-1 space-y-8">
                <!-- Booking Engine Form -->
                <div id="acomodacion-precio" class="bg-white rounded-xl shadow-lg p-6 sm:p-8 sticky top-4">
                    <h2 class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-4">
                        Motor de Reservas
                    </h2>
                    <p class="text-sm text-gray-500 mb-2 italic">
                        Selecciona el n√∫mero de personas. La casa cuenta con habitaciones para 1, 2, 3 o 4 hu√©spedes.
                    </p>
                    <p class="text-sm text-gray-500 mb-4 italic">
                        El precio es para estancias de 30 d√≠as o m√°s desde COP 1.200.000 
                    </p>
                    <!-- Formulario actualizado para enviar datos a Web3Forms -->
                    <form id="booking-form" action="https://api.web3forms.com/submit" method="POST" class="space-y-4">
                        <!-- Campo oculto requerido por Web3Forms. DEBES pegar aqu√≠ tu clave de acceso. -->
                        <input type="hidden" name="access_key" value="2a04fd5d-fc10-473d-8b45-30148c696f9d">
                        
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Nombre Completo</label>
                            <input type="text" id="name" name="Nombre Completo" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Correo Electr√≥nico</label>
                            <input type="email" id="email" name="Correo Electr√≥nico" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700">Tel√©fono de Contacto</label>
                            <input type="tel" id="phone" name="Tel√©fono de Contacto" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="check-in" class="block text-sm font-medium text-gray-700">Fecha de Llegada</label>
                            <input type="date" id="check-in" name="Fecha de Llegada" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="check-out" class="block text-sm font-medium text-gray-700">Fecha de Salida</label>
                            <input type="date" id="check-out" name="Fecha de Salida" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="guests" class="block text-sm font-medium text-gray-700">N√∫mero de Hu√©spedes</label>
                            <input type="number" id="guests" name="N√∫mero de Hu√©spedes" min="1" max="20" value="1" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div class="mt-4">
                            <p class="text-xl font-bold text-gray-800">
                                Total estimado: <span id="total-price" class="text-blue-600">$0 COP</span>
                            </p>
                            <!-- Campo oculto para enviar el precio calculado -->
                            <input type="hidden" id="total-price-hidden" name="Total estimado" value="$0 COP">
                        </div>
                        <button type="submit" name="submit-form" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors">
                            Reservar Ahora
                        </button>
                    </form>
                    
                    <!-- Bot√≥n de contacto por WhatsApp a√±adido -->
                    <div class="mt-4">
                        <a href="https://wa.me/573011885152" target="_blank" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 transition-colors">
                            Contactar por WhatsApp
                        </a>
                    </div>
                </div>
            </aside>
        </main>
        
        <!-- Gallery Section - Added back to the main page -->
        <section id="galeria" class="w-full max-w-5xl bg-white rounded-xl shadow-lg p-6 sm:p-8 mt-8">
            <h2 class="text-2xl sm:text-3xl font-semibold text-gray-800 mb-6 text-center">
                Galer√≠a de Fotos
            </h2>
            <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Las im√°genes de la galer√≠a se insertar√°n aqu√≠ con JS -->
            </div>
        </section>

        <!-- Message/Modal container -->
        <div id="message-container" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center p-4">
            <div class="bg-white rounded-xl shadow-2xl p-6 sm:p-8 max-w-lg w-full text-center">
                <h3 id="message-title" class="text-2xl font-bold text-gray-800 mb-4"></h3>
                <p id="message-text" class="text-gray-600 mb-6"></p>
                <button id="close-message" class="py-2 px-6 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Cerrar</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkInInput = document.getElementById('check-in');
            const checkOutInput = document.getElementById('check-out');
            const guestsInput = document.getElementById('guests');
            const totalPriceSpan = document.getElementById('total-price');
            const bookingForm = document.getElementById('booking-form');
            const totalPriceHiddenInput = document.getElementById('total-price-hidden');
            const galleryGrid = document.getElementById('gallery-grid');
            const messageContainer = document.getElementById('message-container');
            const messageTitle = document.getElementById('message-title');
            const messageText = document.getElementById('message-text');
            const closeMessageButton = document.getElementById('close-message');
            const submitButton = document.querySelector('button[type="submit"]');
            
            // Referencias a las tarjetas de pago
            const transferenciaBancariaCard = document.getElementById('transferencia-bancaria');
            const plataformasPagoCard = document.getElementById('plataformas-pago');
            const pagoEfectivoCard = document.getElementById('pago-efectivo');

            // Set min date for check-in to today
            const today = new Date().toISOString().split('T')[0];
            checkInInput.min = today;

            // Galer√≠a de fotos: Pega aqu√≠ los enlaces directos a tus im√°genes.
            const images = [
                'https://i.ibb.co/WpYTJYH8/DSC0305.jpg', 
                'https://i.ibb.co/whzZ7vKZ/DSC0433.jpg', 
                'https://i.ibb.co/gbGFXKpq/DSC0367.jpg', 
                'https://i.ibb.co/DDCRZvfM/DSC0452.jpg', 
                'https://i.ibb.co/cK3zMj69/DSC0358.jpg', 
                'https://i.ibb.co/214X9sMh/DSC0447.jpg',
                'https://i.ibb.co/5XF3QBPm/DSC0370.jpg',
                'https://i.ibb.co/yBNfyg1M/DSC0374.jpg',
                'https://i.ibb.co/bTPRRh8/Imagen-de-Whats-App-2025-05-18-a-las-10-45-11-10f536fe.jpg',
                'https://i.ibb.co/MyNqSXsY/Imagen-de-Whats-App-2025-07-09-a-las-15-43-05-2efbcb2c.jpg',
                'https://i.ibb.co/vvHs83my/DSC0309.jpg',
                'https://i.ibb.co/hRTFzsL6/DSC0316.jpg',
                'https://i.ibb.co/Xf76gx2g/DSC0335.jpg',
                'https://i.ibb.co/NgHKhjf0/DSC0339.jpg',
                'https://i.ibb.co/ynRSFnwp/Imagen-de-Whats-App-2025-07-09-a-las-15-43-12-6943d98c.jpg',
                'https://i.ibb.co/ks7sdGQp/DSC0344.jpg',
                'https://i.ibb.co/wZhdh0CV/Imagen-de-Whats-App-2025-07-09-a-las-15-43-15-f76aa485.jpg',
                'https://i.ibb.co/WNMd6LGQ/DSC0392.jpg',
                'https://i.ibb.co/C3HcWYWM/DSC0386.jpg',
                'https://i.ibb.co/4RbyFHF3/DSC0442.jpg',
                'https://i.ibb.co/5gCRLv20/DSC0389.jpg'
            ];

            // Render gallery images
            images.forEach(src => {
                const imgContainer = document.createElement('div');
                imgContainer.classList.add('w-full', 'h-48', 'relative', 'overflow-hidden', 'rounded-lg', 'shadow-md');

                const img = document.createElement('img');
                img.src = src;
                img.alt = 'Imagen de la propiedad';
                img.classList.add('w-full', 'h-full', 'object-cover', 'transition-transform', 'duration-300', 'hover:scale-105');

                imgContainer.appendChild(img);
                galleryGrid.appendChild(imgContainer);
            });

            // Calculate price based on dates and guests
            const calculatePrice = () => {
                const checkInDate = new Date(checkInInput.value);
                const checkOutDate = new Date(checkOutInput.value);
                const guests = parseInt(guestsInput.value, 10);

                if (!checkInInput.value || !checkOutInput.value || checkOutDate <= checkInDate || guests < 1) {
                    totalPriceSpan.textContent = '$0 COP';
                    totalPriceHiddenInput.value = '$0 COP'; // Update hidden field
                    return;
                }
                
                const oneDay = 1000 * 60 * 60 * 24;
                const numberOfDays = Math.round((checkOutDate.getTime() - checkInDate.getTime()) / oneDay);
                let total = 0;

                // Definir las tarifas
                
                const monthlyRate = 1300000; // Tarifa por mes

                // L√≥gica condicional para el c√°lculo del precio
                if (numberOfDays >= 30) {
                    const numberOfMonths = numberOfDays / 30.44; // Promedio de d√≠as en un mes
                    total = Math.round(numberOfMonths * monthlyRate * guests);
                } else {
                    total = numberOfDays * dailyRate * guests;
                }

                totalPriceSpan.textContent = `$${total.toLocaleString('es-CO')} COP`;
                totalPriceHiddenInput.value = `$${total.toLocaleString('es-CO')} COP`; // Update hidden field
            };

            // Event listeners for date changes
            checkInInput.addEventListener('change', calculatePrice);
            checkOutInput.addEventListener('change', () => {
                if (checkInInput.value && checkOutInput.value && checkInInput.value >= checkOutInput.value) {
                    messageTitle.textContent = '¬°Error en las fechas!';
                    messageText.textContent = 'La fecha de salida debe ser posterior a la fecha de llegada.';
                    messageContainer.classList.remove('hidden');
                    messageContainer.classList.add('flex');
                    checkOutInput.value = '';
                }
                calculatePrice();
            });
            guestsInput.addEventListener('input', calculatePrice);

            // Funci√≥n para mostrar el modal con un mensaje y un bot√≥n de copia
            const showModalWithCopy = (title, text, copyText, buttonColor) => {
                messageTitle.textContent = title;
                messageText.innerHTML = text;
                messageContainer.classList.remove('hidden');
                messageContainer.classList.add('flex');

                const copyButton = document.getElementById('copy-button');
                if (copyButton) {
                    copyButton.classList.remove('bg-blue-600', 'bg-green-600');
                    copyButton.classList.add(buttonColor);
                    copyButton.onclick = () => {
                        const tempInput = document.createElement('textarea');
                        tempInput.value = copyText;
                        document.body.appendChild(tempInput);
                        tempInput.select();
                        document.execCommand('copy');
                        document.body.removeChild(tempInput);

                        // Muestra un mensaje de √©xito en el modal en lugar de un alert
                        const originalText = copyButton.textContent;
                        copyButton.textContent = '¬°Copiado!';
                        copyButton.classList.remove(buttonColor);
                        copyButton.classList.add('bg-gray-400');
                        setTimeout(() => {
                            copyButton.textContent = originalText;
                            copyButton.classList.add(buttonColor);
                            copyButton.classList.remove('bg-gray-400');
                        }, 2000);
                    };
                }
            };
            
            // Event listeners para las tarjetas de pago
            transferenciaBancariaCard.addEventListener('click', () => {
                showModalWithCopy(
                    'Transferencia Bancaria',
                    `<p class="text-sm font-medium">Banco Davivienda</p><p class="text-xl font-bold text-gray-800">Cuenta de Ahorros: 1020945498</p><p class="text-sm font-medium">Titular: Olga Perez</p><div class="mt-4"><button id="copy-button" class="py-2 px-4 text-white rounded-md hover:opacity-90 transition-colors text-sm">Copiar N√∫mero</button></div>`,
                    '1020945498',
                    'bg-blue-600'
                );
            });

            plataformasPagoCard.addEventListener('click', () => {
                showModalWithCopy(
                    'Plataformas de Pago',
                    `<p class="text-xl font-bold text-gray-800">Nequi: 3112129116</p><div class="mt-4"><button id="copy-button" class="py-2 px-4 text-white rounded-md hover:opacity-90 transition-colors text-sm">Copiar N√∫mero</button></div>`,
                    '3112129116',
                    'bg-green-600'
                );
            });

            pagoEfectivoCard.addEventListener('click', () => {
                messageTitle.textContent = 'Pago en Efectivo';
                messageText.textContent = 'Para elegir esta opci√≥n, el pago se realiza en su totalidad al llegar a la casa.';
                messageContainer.classList.remove('hidden');
                messageContainer.classList.add('flex');
            });
            
            // L√≥gica de manejo de env√≠o de formulario para evitar la recarga de la p√°gina
            bookingForm.addEventListener('submit', async (e) => {
                // Evita el comportamiento de env√≠o de formulario predeterminado
                e.preventDefault();

                const form = e.target;
                const formUrl = form.action;
                const formData = new FormData(form);

                submitButton.textContent = 'Enviando...';
                submitButton.disabled = true;
                submitButton.classList.add('opacity-50', 'cursor-not-allowed');

                try {
                    const response = await fetch(formUrl, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    const responseData = await response.json();

                    if (response.ok) {
                        messageTitle.textContent = '¬°Reserva Enviada!';
                        messageText.textContent = 'Gracias por tu inter√©s. Hemos recibido tu solicitud de reserva y nos pondremos en contacto contigo pronto.';
                        messageContainer.classList.remove('hidden');
                        messageContainer.classList.add('flex');
                        
                        // Limpiar el formulario despu√©s del env√≠o exitoso
                        form.reset();
                        calculatePrice(); // Recalcula el precio a 0
                    } else {
                        messageTitle.textContent = '¬°Error al Enviar!';
                        messageText.textContent = 'Hubo un problema al procesar tu solicitud. Por favor, int√©ntalo de nuevo o cont√°ctanos directamente por WhatsApp.';
                        messageContainer.classList.remove('hidden');
                        messageContainer.classList.add('flex');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    messageTitle.textContent = '¬°Error de Conexi√≥n!';
                    messageText.textContent = 'No pudimos conectar con el servidor. Verifica tu conexi√≥n a internet e int√©ntalo de nuevo.';
                    messageContainer.classList.remove('hidden');
                    messageContainer.classList.add('flex');
                } finally {
                    submitButton.textContent = 'Reservar Ahora';
                    submitButton.disabled = false;
                    submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            });

            // Close modal functionality
            closeMessageButton.addEventListener('click', () => {
                messageContainer.classList.add('hidden');
                messageContainer.classList.remove('flex');
            });
            
            // Set initial price on page load
            calculatePrice();
        });
    </script>

</body>
</html>


